/*
 * Main script
 */
var sokoban = null; // global variable for the sokoban game
window.addEvent('domready', function () {
	// loader and game setup
	var loader = new SokobanIndexedLevelLoader(mazeDatabase, 'sokoban');
	sokoban = new SokobanGame(loader);
	sokoban.loadLevel(0);
});

// Maze database (array of strings that indicate tile states)
// TODO: store sokoban maze data (XSB) in run length encoding (RLE)
var mazeDatabase = [
	'####|#@.#|#$ #|#  #|# $#|#. #|#  #|####',

	'#####|#  .#|# $ #|##@##|##$##|#   #|#.  #|#####',

	'#######|#. # .#|# $@$ #|#  #  #|#####D#',

	'######|#.   #|#$$  #|E@.###|####  ',

	'####### |#+.   ##|# # $$ #|#      #|###F####',

	' #####|##  .#|#@$  #|#  * #|##G###',

	'   #####|####   #|#@$  # #|#. $  .#|####H###',

	'########|#  .#  #|#  $@$ #|#  ## .#|###I####',

	'#####|#.  #|# $ #|##@##|#.$ #|#   #|#  J#|#### ',

	'####K## |#  #  ##|# $@$  #|#. #  .#|########',

	'#####|#  .#|# $ #|#L@##|#.$ #|#   #|#  ##|#### ',

	'#######|#@ #  #|#  $$ #|#  . .#|##Z####'/*,

	'########|#   #  #|#  $@$ #|#  .# .#|########',

	'########|#@ #   #|#  #.  #|#  # $ #|## $ ###| #   #  | #.  #  | #####  ',

	' ####|##@ #|# $ #|#   #|##  #| #$.#| # .#| ####',

	'#####|#@  #|#   #|# $ #|#.$##|#. # |#  # |#### ',

	'#######|#    .#|#    $#|#  #  #|#### ##|  #@$ #|  #.  #|  #####',

	'#####|#@  #|# $ #|## .#| #$ #| # .#| ####',

	'#####|#@  #|#   #|# $ #|#$ ##|#. .#|#   #|#####',

	'########|#+.    #|# $ $  #|####  ##|   #### ',

	'########|# .#@  #|#   $  #|#  *   #|########',

	'#####|#+  #|#  *#|# $ #|##  #| #  #| ####',

	'#####   |#   #   |#   #   |#  #####|##$.#@ #|#    $ #|#   # .#|########',

	'#### |#  # |#. ##|# $@#|# $ #|#. ##|#### ',

	'####### |#@ #..# |#     # |# $ $ ##|#   #  #|#####  #|    ####',

	'########|#@ #.  #|#      #|#  #.  #|#  ##  #|# $$   #|#   #  #|########',

	'    ####|    #  #|##### .#|#@  #$ #|#     $#|#     .#|##  #  #| #######',

	'#####   |#@ .#   |#   #   |##$.####|#  #   #|#  $   #|#   ####|#####   ',

	'#### |#..# |# $##|# $@#|# $ #|## .#| ####',

	'########|#@ .#  #|#   $ .#|#   #  #|#### $ #|   #   #|   #   #|   #####',

	'########|#@     #|#  $ $ #|#   ####|#  #..# |#     # |#     # |####### ',

	'  ##### |  #@  # |  #   # |###  $##|#..# $ #|#      #|#      #|########',

	' #####  |##@  #  |# $  #  |#  $ ## |###   ##|  #    #|  #  ..#|  ######',

	'####### |# .  .# |# #   # |#    ## |#   $@##|#  # $ #|####   #|   #####',

	'####    |#@ #####|#  $ $ #|#  ..  #|########',

	'####    |#@ #####|#   #. #|#   #  #|#  #  ##|#  $$ # |#    .# |####### ',

	'#####   |#@  #   |#   #   |# $ ####|#* #.  #|#      #|#   #  #|########',

	'########|#@  #  #|# $ #  #|#   #  #|# $#.  #|#      #|#  #.  #|########',

	'########|#@  #..#|#      #|##   $ #|#   ####|#    $ #|#      #|########',

	'########|#@ . . #|#    # #|####   #|#  $   #|# #$ # #|#      #|########',

	' ###### | #@.. # |## #  ##|#  #   #|# $$   #|##     #| #######',

	' ####  |##@.#  |# $ #  |# $ ###|# $#  #|#.   .#|##  ###| ####  ',

	' #######|##  $@.#|#  $ $.#|#.  ####|#####   ',

	' ####|##@.#|#.  #|# $ #|# $##|#  # |#  # |#### ',

	' #######|##+    #|#  $$  #|#.  #  #|########',

	'  ######|  #@   #|  #    #|  #.. ##|#### $ #|#   $  #|#   #  #|########',

	' #######|##+    #|#  $$  #|#   #  #|## ##  #|#   #  #|#  .#  #|########',

	' ###### | #@ ..# | #$   # | #  ####|##$    #|#      #|#   ####|#####   ',

	'########|#@ # . #|#      #|#  # . #|# $ # ##|# $   # |#   ### |#####   ',

	'#### |#+ ##|#   #|# $.#|##$ #|#   #|#   #|#####',

	'########|#@     #|#      #|#   #.##|# $# .# |# $   # |##  ### | ####   ',

	'####### |#     ##|#    $@#|# $ #  #|#  #   #|#  #   #|####. .#|   #####',

	'    ####|   ##@ #|####.  #|#      #|# $ #  #|# #$.  #|#      #|########',

	'#####  |#  .#  |#.$ #  |#   ###|#$ #@ #|#   $.#|##  ###| ####  ',

	' ####|##@ #|# $ #|#.$.#|##$.#|#   #|#   #|#####',

	'#####|#. .#|#  .#|# $ #|##$ #| #@$#| #  #| ####',

	'#####|#. .#|#  .#|# $ #|##$$#| #@ #| #  #| ####',

	'#### |#@ # |#  # |#$$##|#   #|#.$.#|#.  #|#####',

	'####### |#@ #  ##|#      #|#  # ..#|#    $ #|#  $####|#   #   |#####   ',

	'#####|#@  #|# $.#|# $##|# $ #|#.  #|## .#| ####',

	'########|#+   ..#|# $$$# #|## #   #|#  #####|#  #    |#  #    |####    ',

	'#####   |#+  ####|# . .  #|#  $ $ #|## $####| #  #   | #  #   | ####   ',

	'   #####| ###   #| #@ $  #|##   $##|# .#  # |#     # |##. ### | ####   ',

	'######  |#@   #  |# #$ #  |# $  ###|#  #   #|#  . . #|#  #   #|########',

	'#####  |#. .#  |#.  #  |# $ ###|# $#@ #|#   $ #|#  ####|####   ',

	'########|#+ #   #|# $ $  #|#. #  ##|# $ ### |#  .#   |#  ##   |####    ',

	'#####   |#@  ### |# $   # |# $## ##|#  #.  #|#      #|#  #. ##|####### ',

	'#######|#    .#|#  $$ #|#  # .#|##$@###|#.  #  |#   #  |#####  ',

	'########|#@   ..#|# $$$  #|#  #  .#|########',

	' #######|##  #  #|#  $@$ #|#. ##$ #|#      #|#   .  #|#. #   #|########',

	'########|#      #|#    #.#|##$    #|#@ ## .#|# $ #  #|#   #  #|########',

	'########|#@ #  .#|#    #.#|#      #|# $#   #|#* $   #|#   ####|#####   ',

	'########|# .#@  #|# .#$$ #|#    ###|#     # |# #   # |#   ### |#####   ',

	'####### |#@    ##|#      #|#   #  #|##### ##|# $ $  #|#   . .#|########',

	'   #####|   #. .#|#### $ #|#@  #  #|# $ $  #|#. #  ##|####### ',

	'########|#@.  . #|# #  # #|#      #|# $ $  #|####.$ #|   #####',

	' ###### |##    ##|#@$  $ #|#  ##  #|#. .#  #|#   #  #|##  ####| ####   ',

	'########|#@     #|# $ $  #|## #   #|#.$.####|#   #   |#  .#   |#####   ',

	'####    |#@ #    |#  #    |# $#####|#  #.  #|#.$ $# #|##    .#| #######',

	'########|#@     #|#..  # #|##  $$ #| ##    #| #. $# #| #     #| #######',

	'   #####|####   #|#      #|#     ##|##..#$@#| #   $ #| ###  ##|   #### ',

	'######  |#@   #  |# #$$#  |#  $ ###|# .# ..#|#      #|#      #|########',

	'  #### |###@ ##|#   $ #|# ##  #|# .#$ #|#    $#|# .  .#|#######',

	' ####  |##@ ###|#. . .#|#  #  #|##  $$#| # $  #| ###  #|   ####',

	'########|#+  . .#|#$     #|#  ## ##|##$ # # | #  $ # | #  ### | ####   ',

	'########|#  #+  #|#  #.$ #|#  * ###|#   $ # |####  # |   #  # |   #### ',

	' ####   | #@ #   | #  #   |##$ ####|#  #.  #|#    $$#|##  . .#| #######',

	'####### |#     # |#.#   # |#     # |#. $####|# #@$  #|# .$   #|########',

	'   #####| ###   #| #+$ # #|##.#   #|#  $ . #|#  $####|#   #   |#####   ',

	' #######|##@ ...#|# $    #|#  ## ##|#   #  #|# $$   #|#   #  #|########',

	'#####   |#.  ####|#. $#@ #|## $   #|#   *  #|#   #  #|##  #  #| #######',

	'   #### | ###@ # | #    # |##.$####|#      #|# .$$  #|# . #  #|########',

	'#####   |#@  ### |#. .  # |#    $##|#.$##  #|# $    #|##  #  #| #######',

	'#####   |#   ####|#  $@  #|##$    #| #  # .#| #$    #| #  #..#| #######',

	'####    |# .#####|#  $@$ #|# $    #|##  ####| #  ..# | ###  # |   #### ',

	'   #### |   #@ # |   #  # |####. ##|#  . $ #|# $ $. #|#####  #|    ####',

	'########|#   #@ #|#   #  #|##$$  ##| #     #| ### ..#|   #####',

	'#####   |#.. ### |#  .  # |## $  ##|####$$@#|#      #|#      #|########',

	'####    |#  #####|#      #|# $#   #|#   ####|#.$$@ # |##  ..# | ###### ',

	'   #####| ###   #| #@$ # #|##$$   #|#  ## ##|#. .   #|##   . #| #######'*/
];
